# OpenClaw Skill Manifest
# For deployment to clawhub.ai

name: agent-ros-bridge
version: 0.4.0
description: "Connect AI agents to ROS1/2 robots via MCP, WebSocket, and gRPC"
author: OpenClaw
email: hello@openclaw.ai
license: Apache-2.0
repository: https://github.com/openclaw/agent-ros-bridge
homepage: https://docs.openclaw.ai/agent-ros-bridge

tags:
  - ros
  - robotics
  - mcp
  - ai-agents
  - websocket
  - grpc
  - ros1
  - ros2
  - navigation
  - manipulation

protocols:
  - mcp
  - websocket
  - grpc

features:
  - Multi-agent support
  - ROS1 & ROS2 compatibility
  - TLS encryption
  - JWT authentication
  - Claude Desktop integration
  - Real-time telemetry
  - Distributed deployment

# Pricing (ClawHub marketplace)
pricing:
  model: free  # free, usage, subscription, enterprise
  
  # For usage-based pricing:
  # usage:
  #   unit: request
  #   free_tier: 1000  # requests/month
  #   price_per_unit: 0.001  # USD
  
  # For subscription:
  # subscription:
  #   tiers:
  #     - name: "Community"
  #       price: 0
  #       limits:
  #         max_agents: 5
  #         max_requests: 10000
  #     - name: "Pro"
  #       price: 49
  #       limits:
  #         max_agents: 50
  #         max_requests: 100000
  #     - name: "Enterprise"
  #       price: null  # Contact sales
  #       limits: {}

# Runtime configuration
runtime:
  type: python
  version: ">=3.8"
  entry: agent_ros_bridge.mcp:main
  
  # Environment variables
  env:
    - name: JWT_SECRET
      description: "JWT signing secret for agent authentication"
      required: true
      secret: true
    - name: OPENCLAW_API_KEY
      description: "API key for OpenClaw cloud integration"
      required: false
      secret: true
    - name: BRIDGE_ROS_VERSION
      description: "ROS version (1 or 2)"
      required: false
      default: "2"
    - name: BRIDGE_WS_PORT
      description: "WebSocket port"
      required: false
      default: "8765"
    - name: BRIDGE_GRPC_PORT
      description: "gRPC port"
      required: false
      default: "50051"

# Networking
network:
  ports:
    - name: websocket
      port: 8765
      protocol: tcp
      description: "WebSocket API"
    - name: grpc
      port: 50051
      protocol: tcp
      description: "gRPC API"

# Resource requirements
resources:
  cpu:
    min: "0.5"
    recommended: "1.0"
  memory:
    min: "512Mi"
    recommended: "1Gi"
  
  # For GPU-accelerated robotics (Isaac Sim, etc.):
  # gpu:
  #   required: false
  #   type: nvidia
  #   memory: "4Gi"

# Health checks
health:
  http:
    path: /health
    port: 8080
  # or:
  # grpc:
  #   service: agent_ros_bridge.Health
  #   method: Check

# Metrics (Prometheus)
metrics:
  enabled: true
  port: 9090
  path: /metrics

# Logging
logging:
  format: json
  level: info
  destination: stdout

# Security
security:
  tls:
    enabled: true
    cert_path: /etc/ssl/certs/bridge.crt
    key_path: /etc/ssl/private/bridge.key
  
  authentication:
    type: jwt
    required: true

# OpenClaw-specific features
openclaw:
  # Cloud orchestration
  orchestration:
    enabled: true
    features:
      - fleet_management
      - centralized_logging
      - telemetry
      - remote_commands
  
  # Skill marketplace
  marketplace:
    category: robotics
    featured: false
    
  # Documentation
  documentation:
    quickstart: https://docs.openclaw.ai/agent-ros-bridge/quickstart
    api: https://docs.openclaw.ai/agent-ros-bridge/api
    examples: https://docs.openclaw.ai/agent-ros-bridge/examples

# Dependencies (for clawhub dependency resolution)
dependencies:
  python:
    - mcp>=1.0.0
    - websockets>=10.0
    - grpcio>=1.50.0
    - aiohttp>=3.8.0
  
  system:
    # ROS2 (installed via system packages)
    - ros-jazzy-ros-base
    - python3-rclpy
  
  optional:
    - rclpy>=3.0.0  # For ROS2 support
    - pyyaml>=6.0   # For YAML config

# Installation instructions for ClawHub
install:
  # Pre-install script (run before pip install)
  pre: |
    #!/bin/bash
    echo "Installing Agent ROS Bridge..."
    
  # Post-install script (run after pip install)
  post: |
    #!/bin/bash
    echo "Setup complete!"
    echo "Run: agent-ros-bridge --help"

# Upgrade strategy
upgrade:
  strategy: rolling
  auto: false

# Backup/restore
backup:
  enabled: true
  paths:
    - /etc/agent-ros-bridge/
    - /var/log/agent-ros-bridge/
