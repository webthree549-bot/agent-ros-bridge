# Bug Report - Agent ROS Bridge

**Date:** 2026-02-21  
**Status:** In Progress

---

## üêõ Bugs Found

### 1. CRITICAL: Examples Missing ROS2 Packages

**Location:** All 4 playground examples  
**Issue:** `ros2/` directory exists but package structure incomplete

**Affected:**
- talking-garden/ros2/
- mars-colony/ros2/
- theater-bots/ros2/
- art-studio/ros2/

**Problem:** ROS2 packages may be missing setup.py or proper structure

**Fix Needed:** Verify all ROS2 packages have:
- package.xml
- setup.py
- Proper directory structure

---

### 2. HIGH: JWT_SECRET Not Validated

**Location:** Unified demo  
**Issue:** Server starts even if JWT_SECRET is empty/weak

**Current:**
```python
JWT_SECRET = os.environ.get('JWT_SECRET', 'weak-default')
```

**Should be:**
```python
JWT_SECRET = os.environ.get('JWT_SECRET')
if not JWT_SECRET:
    raise ValueError("JWT_SECRET environment variable is required")
```

---

### 3. MEDIUM: Port Conflicts Not Handled

**Location:** demo_server.py  
**Issue:** If port 8080 or 8765 is in use, server crashes with ugly traceback

**Fix:** Add graceful error handling with helpful message

---

### 4. MEDIUM: Example Status Not Persisted

**Location:** Unified demo  
**Issue:** If user refreshes page, running examples appear stopped

**Current behavior:**
- User starts example
- Refreshes page
- UI shows "Stopped" even though example is still running

**Fix:** Check actual process status on page load

---

### 5. LOW: HTML Syntax Error

**Location:** examples/metrics/index.html  
**Issue:** Missing closing tag

**Found:**
```html
<div class="metric-value" id="memory-value">--</div>
<!-- Missing closing div somewhere -->
```

---

### 6. LOW: Deprecated API Usage

**Location:** examples/arm/arm_demo.py  
**Issue:** Uses old `Bridge` class instead of `ROSBridge`

---

### 7. LOW: Missing Input Validation

**Location:** All example web dashboards  
**Issue:** No validation on coordinate inputs, could send invalid data to ROS

---

## ‚úÖ Fixes In Progress

| Bug | Priority | Status |
|-----|----------|--------|
| JWT validation | HIGH | ‚è≥ |
| Port conflict handling | MEDIUM | ‚è≥ |
| Status persistence | MEDIUM | ‚è≥ |
| HTML syntax | LOW | ‚è≥ |
| API update | LOW | ‚è≥ |

---

## üîç Testing Needed

1. All 11 examples start successfully
2. Web dashboards load without errors
3. Stop/Start cycle works correctly
4. Port conflicts handled gracefully
5. JWT rejection works with invalid token

---

*Report generated by Moltbot*
